<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>ModAddedHeads - X2WOTCCommunityHighlander</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "ModAddedHeads";
        var mkdocs_page_input_path = "misc/ModAddedHeads.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/ini.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/unrealscript.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> X2WOTCCommunityHighlander
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">X2WOTCCommunityHighlander Documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../Bugfixes/">Bugfixes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../compatibility/">Compatibility</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../customization/">Customization</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../dlc2/">DLC2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../events/">Events</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../loadoutslots/">Loadout Slots</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../pawns/">Pawns</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../ui/">User Interface</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Misc</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../AdjustPositionOfWeaponPawn/">AdjustPositionOfWeaponPawn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ArmorEquipRollDLCPartChance/">ArmorEquipRollDLCPartChance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../BetaStrikeEndTacticalHeal/">BetaStrikeEndTacticalHeal</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../BodyPartTemplateNames/">BodyPartTemplateNames</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CHDLCHookManager/">CHDLCHookManager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CHEventListenerTemplate/">CHEventListenerTemplate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CanAddItemToInventory/">CanAddItemToInventory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ChangeDefaultWeaponColor/">ChangeDefaultWeaponColor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ClassIsNative/">ClassIsNative</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ComponentVersions/">ComponentVersions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CustomInventorySlots/">CustomInventorySlots</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DLCAppendWeaponSockets/">DLCAppendWeaponSockets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DLCRunOrder/">DLCRunOrder</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DateAndTimeFormattingChanges/">DateAndTimeFormattingChanges</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DebugStartSecondWave/">DebugStartSecondWave</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DisableAutoPhotos/">DisableAutoPhotos</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DisplayMultiSlotItems/">DisplayMultiSlotItems</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EuroDateOverride/">EuroDateOverride</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GetCrossClassAbilities_CH/">GetCrossClassAbilities_CH</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GetLocalizedItemCategory/">GetLocalizedItemCategory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ItemAddedOrRemovedToSlot/">ItemAddedOrRemovedToSlot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MixedCharacterPoolChance/">MixedCharacterPoolChance</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">ModAddedHeads</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#base-game-behavior">Base-game behavior</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-fix">The fix</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#additional-nice-to-have">Additional nice-to-have</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#source-code-references">Source code references</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ModDependencyCheck/">ModDependencyCheck</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ModifyEarnedSoldierAbilities/">ModifyEarnedSoldierAbilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ModifyGeneratedUnitAppearance/">ModifyGeneratedUnitAppearance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OnLoadedSavedGameWithDLCExisting/">OnLoadedSavedGameWithDLCExisting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OverrideItemImage_Improved/">OverrideItemImage_Improved</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OverrideStackedClassIcon/">OverrideStackedClassIcon</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OverrideWeaponScale/">OverrideWeaponScale</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../RequiredHighlanderVersion/">RequiredHighlanderVersion</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ScreenStackSubClasses/">ScreenStackSubClasses</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SoundCueNarrativeMoments/">SoundCueNarrativeMoments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SubscribeToOnInput/">SubscribeToOnInput</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SubscribeToOnInputForScreen/">SubscribeToOnInputForScreen</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TintMaterialConfigs/">TintMaterialConfigs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UnitPawnPostInitAnimTree/">UnitPawnPostInitAnimTree</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UpdateHumanPawnMeshComponent/">UpdateHumanPawnMeshComponent</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UpdateHumanPawnMeshMaterial/">UpdateHumanPawnMeshMaterial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../XComLWTuple/">XComLWTuple</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Strategy</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/AfterActionModifyRecoveredLoot/">AfterActionModifyRecoveredLoot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/AllowNoSquadSizeUpgradeAchievement/">AllowNoSquadSizeUpgradeAchievement</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/AllowOnCovertActionCompleteAnalytics/">AllowOnCovertActionCompleteAnalytics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/AllowRulerOnMission/">AllowRulerOnMission</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CanNeverBeRookieCovertAction/">CanNeverBeRookieCovertAction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CanTechBeInspired/">CanTechBeInspired</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CanWeaponApplyUpgrade/">CanWeaponApplyUpgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CovertAction_OverrideCostScalar/">CovertAction_OverrideCostScalar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CovertAction_OverrideRewardScalar/">CovertAction_OverrideRewardScalar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CovertAction_OverrideRiskStrings/">CovertAction_OverrideRiskStrings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/CovertAction_PreventGiveRewards/">CovertAction_PreventGiveRewards</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/DynamicSoldierClassDisplay/">DynamicSoldierClassDisplay</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/DynamicSoldierRankDisplay/">DynamicSoldierRankDisplay</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/ExtendHasHeavyWeapon/">ExtendHasHeavyWeapon</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/FirstPromotionOverrideClass/">FirstPromotionOverrideClass</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/Geoscape_ResInfoButtonVisible/">Geoscape_ResInfoButtonVisible</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/GetCovertActionEvents_Settings/">GetCovertActionEvents_Settings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/GetNumHeavyWeaponSlotsOverride/">GetNumHeavyWeaponSlotsOverride</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/HeadquartersUnitFired/">HeadquartersUnitFired</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/IsWeaponAllowedByClass/">IsWeaponAllowedByClass</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/ItemUpgraded/">ItemUpgraded</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/ModifyStrategyStartState/">ModifyStrategyStartState</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/NonIntegratedAlienRulerLocations/">NonIntegratedAlienRulerLocations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/NonWeaponUpgradeSlots/">NonWeaponUpgradeSlots</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OnBestGearLoadoutApplied/">OnBestGearLoadoutApplied</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OnGetPCSImage/">OnGetPCSImage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideAllowStartingRegionLink/">OverrideAllowStartingRegionLink</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideCanEquipImplant/">OverrideCanEquipImplant</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideCanTakeFacilityMission/">OverrideCanTakeFacilityMission</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideDarkEventCount/">OverrideDarkEventCount</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideEligibleStartingRegion/">OverrideEligibleStartingRegion</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideEligibleTrainingCenterAbilities/">OverrideEligibleTrainingCenterAbilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasAmmoPocket/">OverrideHasAmmoPocket</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasExtraUtilitySlot/">OverrideHasExtraUtilitySlot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasGrenadePocket/">OverrideHasGrenadePocket</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasHeavyWeapon/">OverrideHasHeavyWeapon</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideImageForItemAvaliable/">OverrideImageForItemAvaliable</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideInjuryClearingFatigueBehavior/">OverrideInjuryClearingFatigueBehavior</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideMissionImage/">OverrideMissionImage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideNegativeTraitRoll/">OverrideNegativeTraitRoll</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideNextRetaliationDisplay/">OverrideNextRetaliationDisplay</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideNumUpgradeSlots/">OverrideNumUpgradeSlots</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverridePromotionBlueprintTagPrefix/">OverridePromotionBlueprintTagPrefix</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverridePromotionUIClass/">OverridePromotionUIClass</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideRespecSoldierProjectPoints/">OverrideRespecSoldierProjectPoints</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideShowPromoteIcon/">OverrideShowPromoteIcon</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideStrategyCostString/">OverrideStrategyCostString</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideTotalNumKills/">OverrideTotalNumKills</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PhotoboothParticleEffectEnums/">PhotoboothParticleEffectEnums</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PositiveTraitUI/">PositiveTraitUI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PostInventoryLoadoutApplied/">PostInventoryLoadoutApplied</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PostUFOSetInterceptionTime/">PostUFOSetInterceptionTime</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PreCompleteStrategyFromTacticalTransfer/">PreCompleteStrategyFromTacticalTransfer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PreDarkEventDeactivated/">PreDarkEventDeactivated</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/PsiProjectCompleted/">PsiProjectCompleted</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/RegisterInCampaignStart/">RegisterInCampaignStart</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/ShowItemInLockerList/">ShowItemInLockerList</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/SitRepCheckAdditionalRequirements/">SitRepCheckAdditionalRequirements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/StrategyMap_NavHelpUpdated/">StrategyMap_NavHelpUpdated</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/TemporarilyBlockDarkEventActivation/">TemporarilyBlockDarkEventActivation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UIAvengerShortcuts_ShowCQResistanceOrders/">UIAvengerShortcuts_ShowCQResistanceOrders</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UIResistanceReport_ShowCouncil/">UIResistanceReport_ShowCouncil</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UIScanButtonOnMouseEvent/">UIScanButtonOnMouseEvent</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UIStrategyPolicy_MiscEvents/">UIStrategyPolicy_MiscEvents</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UIStrategyPolicy_ScreenInit/">UIStrategyPolicy_ScreenInit</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UIStrategyPolicy_ShowCovertActionsOnClose/">UIStrategyPolicy_ShowCovertActionsOnClose</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/UpdateNavHelp/">UpdateNavHelp</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/ValidateGTSClassTraining/">ValidateGTSClassTraining</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/WillRecoveryTimeModifier/">WillRecoveryTimeModifier</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/WorldRegionGetMeshScale/">WorldRegionGetMeshScale</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/WorldRegionGetStaticMesh/">WorldRegionGetStaticMesh</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tactical</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/AllowInteractHack/">AllowInteractHack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/BleedingDamageBypassesShields/">BleedingDamageBypassesShields</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/BurningAndPoisonedDamageBypassesShields/">BurningAndPoisonedDamageBypassesShields</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/CHL_SetupActionsForBeginTurn/">CHL_SetupActionsForBeginTurn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ConsiderAlliesforSoundAlerts/">ConsiderAlliesforSoundAlerts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/CustomTargetStyles/">CustomTargetStyles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DamageCalc_ArmorBeforeShield/">DamageCalc_ArmorBeforeShield</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DamageEffectForDamageModifierHooks/">DamageEffectForDamageModifierHooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DisableAimAssist/">DisableAimAssist</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DisableExtraLOSCheckForPoison/">DisableExtraLOSCheckForPoison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DisableExtraLOSCheckForSmoke/">DisableExtraLOSCheckForSmoke</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DisplayCustomOverwatchActionPointOnUnitFlag/">DisplayCustomOverwatchActionPointOnUnitFlag</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/DrawDebugLabels/">DrawDebugLabels</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ExtraDamageModifierHooks/">ExtraDamageModifierHooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/FinalizePlayerStateForTacticalMusic/">FinalizePlayerStateForTacticalMusic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ForceReapplyOnRefresh/">ForceReapplyOnRefresh</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/GetAdditionalHitModifiers/">GetAdditionalHitModifiers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/GetHitChanceEvents/">GetHitChanceEvents</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/GetStatModifiersFixed/">GetStatModifiersFixed</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/GrenadesRequiringUnitsOnTargetedTiles/">GrenadesRequiringUnitsOnTargetedTiles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/HasHeightAdvantageOverride/">HasHeightAdvantageOverride</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ImproveAIAreaOfEffectProfiles/">ImproveAIAreaOfEffectProfiles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/KismetGameStateMatinee/">KismetGameStateMatinee</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/LootTableAPI/">LootTableAPI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ModifyProjectileEnvironmentDamage/">ModifyProjectileEnvironmentDamage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/MoreWillRollStats/">MoreWillRollStats</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OnDistributeTacticalGameEndXp/">OnDistributeTacticalGameEndXp</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverKillDamage/">OverKillDamage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideAbilityIconColor/">OverrideAbilityIconColor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideAbilityIconColorImproved/">OverrideAbilityIconColorImproved</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideCameraRotationAngle/">OverrideCameraRotationAngle</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideClipSize/">OverrideClipSize</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideDamageRemovesReserveActionPoints/">OverrideDamageRemovesReserveActionPoints</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideDisableReinforcementsFlare/">OverrideDisableReinforcementsFlare</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideDropshipMapImage/">OverrideDropshipMapImage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideEffectIconColor/">OverrideEffectIconColor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideEncounterZoneAnchorPoint/">OverrideEncounterZoneAnchorPoint</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideEnemyFactionsAlertsOutsideVision/">OverrideEnemyFactionsAlertsOutsideVision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideHasInfiniteAmmo/">OverrideHasInfiniteAmmo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideHitEffects/">OverrideHitEffects</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideKillXp/">OverrideKillXp</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideLightingMap/">OverrideLightingMap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideLostSpawnIncreaseFromUse/">OverrideLostSpawnIncreaseFromUse</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideMetaHitEffect/">OverrideMetaHitEffect</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverridePatrolBehavior/">OverridePatrolBehavior</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverridePatrolDestination/">OverridePatrolDestination</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideProjectileInstance/">OverrideProjectileInstance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideReactionFireSlomo/">OverrideReactionFireSlomo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideUnitFocusUI/">OverrideUnitFocusUI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PersonalitySpeech/">PersonalitySpeech</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PlaceEvacZoneAbilityName/">PlaceEvacZoneAbilityName</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PlayKnockback/">PlayKnockback</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PostAliensSpawned/">PostAliensSpawned</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PostMissionIntroKismet/">PostMissionIntroKismet</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PostModifyNewAbilityContext/">PostModifyNewAbilityContext</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/PrioritizeRightClickMelee/">PrioritizeRightClickMelee</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ProjectilePerformanceDrain/">ProjectilePerformanceDrain</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/RequiresTargetingActivation/">RequiresTargetingActivation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ShouldCivilianRun/">ShouldCivilianRun</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/ShouldUnitPatrolUnderway/">ShouldUnitPatrolUnderway</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/UseMinDamageForUnitFlagPreview/">UseMinDamageForUnitFlagPreview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tactical/eCleanup_BeginTacticalChain/">eCleanup_BeginTacticalChain</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">X2WOTCCommunityHighlander</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Misc</li>
      <li class="breadcrumb-item active">ModAddedHeads</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="modaddedheads">ModAddedHeads</h1>
<p>Tracking Issue: <a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/issues/219">#219</a></p>
<p>Tags: <a href="../../customization/">customization</a>, <a href="../../pawns/">pawns</a></p>
<p>Allows Human Pawns to freely switch between default head and separate
skeletal mesh heads without resorting to invisible head hacks and helmets.</p>
<pre><code class="language-ini">+BodyPartTemplateConfig=(PartType=&quot;Head&quot;, TemplateName=&quot;Augmentations_Head_AFR&quot;, ArchetypeName=&quot;MusashiAndroidHeads.ARC_Head_Afr_M&quot;, Gender=eGender_Male, Race=eRace_African, bCanUseOnCivilian=false, SpecializedType=false, DLCName=&quot;Augmentations&quot;)
</code></pre>
<h2 id="base-game-behavior">Base-game behavior</h2>
<p>There are two kinds of Human Pawns in the game: Pawns that share their
head mesh with their pawn mesh, and pawns that don't. Note that the pawn mesh itself
never has any geometry except for a possible head.</p>
<p>In more concrete terms, the standard human pawn meshes have their head included, and the
head archetypes reference the same mesh. The Human Pawn recognizes this and doesn't
actually attach a head, and instead aliases the head component to the pawn component
so that all changes to the head customization apply to the mesh.</p>
<p>Sparks on the other hand have the option to switch between different head meshes,
and the head mesh never references the pawn mesh. The pawn mesh is entirely void of geometry.
The Human Pawn recognizes this and uses a separate mesh component for the head.</p>
<p>Where it all goes wrong is when those two types of heads are being mixed. The
Human Pawn first aliases the head to the pawn, and when a custom head is being
used, it changes the head mesh -- and, due to the alias, also the base pawn mesh.
Even worse, it tries to attach the pawn to the pawn itself instead of the head to the
pawn. This generally crashes the game.</p>
<h2 id="the-fix">The fix</h2>
<ul>
<li>We handle the case where we go from a standard head to a custom head correctly and don't crash</li>
<li>We apply an invisible material to the entire pawn mesh when a custom head is being used<ul>
<li>For Sparks, this causes no change in behavior because the Spark pawn has no geometry</li>
<li>For Humans, this is desired because otherwise, the base head clips with any custom head</li>
<li>An invisible material is used because outright hiding the pawn turns off parts of the animation system =)</li>
</ul>
</li>
</ul>
<h2 id="additional-nice-to-have">Additional nice-to-have</h2>
<p>Some mod-added heads don't work well with certain customization categories. For example, the
<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=1293725945">Augmentations</a> mod adds Cyborg
heads, which generally don't have facial hair (but other facial props are okay!)</p>
<p>This change allows custom head archetypes to suppress certain facial customization categories.
Example from Augmentations:</p>
<p><code>XComContent.ini</code>:</p>
<pre><code class="language-ini">[XComGame.X2BodyPartTemplateManager]
+BodyPartTemplateConfig=(PartType=&quot;Head&quot;, TemplateName=&quot;Augmentations_Head_AFR&quot;, ArchetypeName=&quot;MusashiAndroidHeads.ARC_Head_Afr_M&quot;, Gender=eGender_Male, Race=eRace_African, bCanUseOnCivilian=false, SpecializedType=false, DLCName=&quot;Augmentations&quot;)
;                                                                                                       Object name ^^^^^^^^^^^^^^
[XComGame.CHHelpers]
+HeadSuppressesHair=&quot;ARC_Head_Afr_M&quot;
+HeadSuppressesBeard=&quot;ARC_Head_Afr_M&quot;
</code></pre>
<p>The specified name is the object name of the archetype. Full list of arrays:</p>
<ul>
<li><code>HeadSuppressesHair</code></li>
<li><code>HeadSuppressesLowerFaceProp</code></li>
<li><code>HeadSuppressesUpperFaceProp</code></li>
<li><code>HeadSuppressesHelmet</code></li>
<li><code>HeadSuppressesBeard</code></li>
</ul>
<h2 id="source-code-references">Source code references</h2>
<ul>
<li><a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/blob/master/X2WOTCCommunityHighlander/Src/XComGame/Classes/XComHumanPawn.uc#L1265-L1328">XComHumanPawn.uc:1265-1328</a></li>
<li><a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/blob/master/X2WOTCCommunityHighlander/Src/XComGame/Classes/CHHelpers.uc#L96">CHHelpers.uc:96</a></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../MixedCharacterPoolChance/" class="btn btn-neutral float-left" title="MixedCharacterPoolChance"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../ModDependencyCheck/" class="btn btn-neutral float-right" title="ModDependencyCheck">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../MixedCharacterPoolChance/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../ModDependencyCheck/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/extra.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
